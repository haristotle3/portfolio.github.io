<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Real Time Traffic Routing | Google Portfolio</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <link rel="stylesheet" href="../styles.css" />

    <style>
      /* Case Study Specific Styles */
      .blue {
        color: var(--google-blue);
      }
      .red {
        color: var(--google-red);
      }
      .yellow {
        color: var(--google-yellow);
      }
      .green {
        color: var(--google-green);
      }

      /* Base font & colors */
      @font-face {
        font-family: "GoogleSans-Regular";
        src: url("../assets/GoogleSans-Regular.ttf") format("truetype");
        font-weight: normal;
        font-style: normal;
      }

      :root {
        --google-blue: #4285f4;
        --google-red: #ea4335;
        --google-yellow: #fbbc05;
        --google-green: #34a853;
        --google-gray: #f1f1f1;
        --dark-gray: #3c4043;
        --light-gray: #f8f9fa;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "GoogleSans-Regular", sans-serif;
      }

      .container {
        max-width: 1200px;
        width: 90%;
        margin: 0 auto;
        padding: 0 20px;
      }

      .navbar {
        background-color: white;
        box-shadow: 0 2px 5px rgb(0 0 0 / 0.1);
        position: fixed;
        width: 100%;
        top: 0;
        left: 0;
        z-index: 1000;
        padding: 15px 0;
      }

      .navbar .container {
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .logo {
        font-size: 24px;
        font-weight: 700;
      }

      .logo a {
        text-decoration: none;
        color: var(--dark-gray);
      }

      .menu {
        list-style: none;
        display: flex;
        gap: 30px;
      }

      .menu li a.menu-btn {
        text-decoration: none;
        font-weight: 500;
        color: var(--dark-gray);
        transition: color 0.3s ease;
        font-size: 20px;
      }

      .menu li a.menu-btn:hover {
        color: var(--google-blue);
      }

      .menu-btn {
        font-size: 24px;
        cursor: pointer;
        color: var(--dark-gray);
      }

      .case-study-container {
        max-width: 900px;
        margin: 0 auto 60px auto;
        padding: 160px 20px 0 20px;
      }

      .case-study-title {
        font-size: 2.2rem;
        color: var(--google-blue);
        margin-bottom: 20px;
        position: relative;
        padding-bottom: 10px;
      }

      .case-study-title::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 80px;
        height: 3px;
        background: linear-gradient(
          to right,
          var(--google-blue),
          var(--google-red),
          var(--google-yellow)
        );
      }

      .case-study-subtitle {
        font-size: 1.8rem;
        color: var(--google-red);
        margin: 30px 0 15px 0;
      }

      .case-study-image {
        width: 100%;
        border-radius: 12px;
        margin: 25px 0;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .case-study-text {
        font-size: 1.1rem;
        line-height: 1.8;
        color: var(--dark-gray);
        margin-bottom: 25px;
      }

      .code-block {
        background-color: #f8f9fa;
        color: #3c4043;
        padding: 20px;
        border-radius: 10px;
        overflow-x: auto;
        font-family: "Courier New", monospace;
        font-size: 15px;
        margin: 30px 0;
        border-left: 4px solid var(--google-blue);
      }

      .complexity-card {
        background-color: white;
        border-radius: 12px;
        padding: 25px;
        margin: 30px 0;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        border: 1px solid #e0e0e0;
      }

      .card-title {
        font-size: 1.3rem;
        color: var(--google-blue);
        margin-bottom: 15px;
      }

      .complexity-table {
        width: 100%;
        border-collapse: collapse;
        color: var(--dark-gray);
        font-size: 1rem;
      }

      .complexity-table th,
      .complexity-table td {
        padding: 12px 15px;
        border: 1px solid #e0e0e0;
        text-align: left;
      }

      .complexity-table th {
        background-color: var(--light-gray);
        color: var(--dark-gray);
      }

      .references {
        margin: 40px 0;
      }

      .reference-title {
        font-size: 1.3rem;
        color: var(--google-blue);
        margin-bottom: 15px;
      }

      .reference-list {
        list-style: disc;
        padding-left: 25px;
        color: var(--dark-gray);
        line-height: 1.8;
      }

      .reference-link {
        color: var(--google-blue);
        text-decoration: none;
        transition: color 0.3s ease;
      }

      .reference-link:hover {
        color: var(--google-red);
        text-decoration: underline;
      }

      .case-study-navigation {
        display: flex;
        justify-content: space-between;
        margin: 60px 0 30px 0;
      }

      .nav-link {
        color: var(--google-blue);
        font-weight: 500;
        text-decoration: none;
        transition: color 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 5px;
      }

      .nav-link:hover {
        color: var(--google-red);
      }

      @media (max-width: 768px) {
        .case-study-container {
          padding: 120px 15px 0 15px;
        }

        .case-study-title {
          font-size: 1.8rem;
        }

        .case-study-subtitle {
          font-size: 1.5rem;
        }
      }
    </style>
  </head>
  <body>
    <nav class="navbar">
      <div class="max-width container">
        <div class="logo">
          <a href="#">
            <span class="blue">A</span><span class="red">P</span
            ><span class="yellow">S</span
            ><span class="aspirant">Portfolio</span>
          </a>
        </div>

        <ul class="menu">
          <li><a href="../index.html" class="menu-btn">Home</a></li>
          <li>
            <a href="../domain/#business-cases-section" class="menu-btn"
              >Case studies</a
            >
          </li>
          <li><a href="../index.html#contact" class="menu-btn">Details</a></li>
        </ul>
      </div>
    </nav>

    <section class="case-study-container">
      <!-- Main Case Study Title -->
      <h1 class="case-study-title">
        <i class="fas fa-traffic-light"></i> Real-Time Traffic Routing
      </h1>

      <!-- Section 1 -->
      <h2 class="case-study-subtitle">
        <i class="fas fa-network-wired"></i> 1. Graph Data Structure with Priority Queues
      </h2>
      <p class="case-study-text">
        Google Maps uses a weighted directed graph representation where nodes are intersections/locations
        and edges are road segments weighted by travel time. The A* algorithm is ideal for real-time routing
        as it efficiently finds optimal paths by combining Dijkstra's approach with heuristic estimates.
        A priority queue (typically a min-heap) manages nodes to explore, ordered by f(n) = g(n) + h(n),
        where g(n) is current travel time and h(n) is the heuristic estimate to destination.
      </p>
      <img
        src="realtimetr.gif"
        alt="Traffic graph representation"
        class="case-study-image"
      />

      <!-- Section 2 -->
      <h2 class="case-study-subtitle">
        <i class="fas fa-database"></i> 2. Real-Time Data Processing Pipeline
      </h2>
      <p class="case-study-text">
        Google combines historical data with real-time inputs from:
        <ul class="reference-list">
          <li>Anonymous location data from mobile devices</li>
          <li>GPS signals from vehicles</li>
          <li>Road sensors and traffic cameras</li>
          <li>User reports of incidents/accidents</li>
        </ul>
        This data is processed using stream processing frameworks (like Google Dataflow) to update
        edge weights in the routing graph every 1-2 minutes, enabling dynamic route adjustments.
      </p>

      <!-- Code Block -->
      <h3 class="case-study-subtitle">Implementation (A* Algorithm):</h3>
      <pre class="code-block"><code>
import heapq

class TrafficRouter:
    def __init__(self, graph):
        self.graph = graph  # Adjacency list: {node: [(neighbor, travel_time)]}
        
    def heuristic(self, node, goal):
        """Euclidean distance heuristic (simplified - Google uses more sophisticated)"""
        lat1, lon1 = node
        lat2, lon2 = goal
        return ((lat2-lat1)**2 + (lon2-lon1)**2)**0.5 * 0.8  # Scaling factor
    
    def a_star(self, start, goal, real_time_weights):
        open_set = []
        heapq.heappush(open_set, (0, start))
        
        came_from = {}
        g_score = {node: float('inf') for node in self.graph}
        g_score[start] = 0
        
        f_score = {node: float('inf') for node in self.graph}
        f_score[start] = self.heuristic(start, goal)
        
        while open_set:
            current = heapq.heappop(open_set)[1]
            
            if current == goal:
                return self.reconstruct_path(came_from, current)
                
            for neighbor, base_time in self.graph[current]:
                # Incorporate real-time traffic data
                current_time = real_time_weights.get((current, neighbor), base_time)
                
                tentative_g = g_score[current] + current_time
                
                if tentative_g < g_score[neighbor]:
                    came_from[neighbor] = current
                    g_score[neighbor] = tentative_g
                    f_score[neighbor] = tentative_g + self.heuristic(neighbor, goal)
                    heapq.heappush(open_set, (f_score[neighbor], neighbor))
                    
        return None  # No path found
        
    def reconstruct_path(self, came_from, current):
        path = []
        while current in came_from:
            path.append(current)
            current = came_from[current]
        path.append(current)
        return path[::-1]

# Example usage:
road_graph = {
    'A': [('B', 5), ('C', 10)],  # Base travel times in minutes
    'B': [('D', 3), ('E', 7)],
    'C': [('E', 4)],
    'D': [('F', 2)],
    'E': [('F', 5)],
    'F': []
}

router = TrafficRouter(road_graph)

# Real-time updates (e.g., accident on B->D adds 5min delay)
realtime_weights = {('B', 'D'): 8}

optimal_path = router.a_star('A', 'F', realtime_weights)
print("Optimal path with current traffic:", optimal_path)
      </code></pre>

      <!-- Complexity Analysis -->
      <div class="complexity-card">
        <h3 class="card-title">Performance Analysis</h3>
        <table class="complexity-table">
          <thead>
            <tr>
              <th>Operation</th>
              <th>Complexity</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>A* Algorithm</td>
              <td>O(E + V log V)</td>
              <td>With good heuristic, often better than Dijkstra's O(E + V log V)</td>
            </tr>
            <tr>
              <td>Data Processing</td>
              <td>O(K)</td>
              <td>K = number of road segments being updated</td>
            </tr>
            <tr>
              <td>Heuristic Calculation</td>
              <td>O(1)</td>
              <td>Per-node computation (spatial hashing optimizes this)</td>
            </tr>
            <tr>
              <td>Memory</td>
              <td>O(V + E)</td>
              <td>Storing graph and algorithm state</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Key Takeaways -->
      <div class="references">
        <h3 class="reference-title">Key Insights</h3>
        <ul class="reference-list">
          <li>A* outperforms Dijkstra by using heuristic guidance, crucial for global-scale routing</li>
          <li>Google's implementation uses contraction hierarchies for 1000x speedup on continent-scale maps</li>
          <li>Real-time weights incorporate predictive models (e.g., expected future congestion)</li>
          <li>Multi-criteria optimization balances time, tolls, fuel efficiency, and user preferences</li>
          <li>Distributed computation handles billions of daily routing requests</li>
        </ul>
      </div>

      <!-- References -->
      <div class="references">
        <h3 class="reference-title">References & Resources</h3>
        <ul class="reference-list">
          <li>
            <a href="https://medium.com/@johnadjanohoun/how-google-maps-finds-the-shortest-path-a-algorithm-explained-in-javascript-054b46ee7bf5" target="_blank" class="reference-link">
              How Google Maps Finds the Shortest Path: A* Algorithm Explained in JavaScript.
            </a>
          </li>
          <li>
            <a href="https://en.wikipedia.org/wiki/A*_search_algorithm" target="_blank" class="reference-link">
              Wikipedia: A* Search Algorithm
            </a>
          </li>
        </ul>
      </div>

      <!-- Navigation -->
      <div class="case-study-navigation">
        <a href="pagerank-optimization.html" class="nav-link"
          ><i class="fas fa-arrow-left"></i> Previous: PageRank</a
        >
        <a href="ar-spatial-mapping.html" class="nav-link"
          >Next: AR Spatial Mapping <i class="fas fa-arrow-right"></i
        ></a>
      </div>
    </section>
  </body>
</html>
